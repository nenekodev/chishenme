<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>ÂòâÁÑ∂‰ªäÂ§©ÂêÉ‰ªÄ‰πàÔºü</title>
    <meta name="keywords" content="ÂòâÁÑ∂‰ªäÂ§©ÂêÉ‰ªÄ‰πà" />
    <meta name="description" content="ÂòâÁÑ∂‰ªäÂ§©ÂêÉ‰ªÄ‰πà" />
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="shortcut icon" href="./favicon.ico">
    <link rel="stylesheet" href="default.css">
    <link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-2-M/bootstrap/5.1.3/css/bootstrap.min.css">
    <style type="text/css">.html{font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif!important;} #start{background:#E799B0; border:#c9778f; color: #fff;} #start:hover{background: #c9778f};</style>
</head>

<body>
    <div id="app" class="container-xl d-flex flex-column justify-content-center" style="height: 100%;">
      <div class="row justify-content-center">
        <div class="col-12 col-md-6">
          <div class="card mt-5">
            <div class="card-body d-flex flex-column align-items-center justify-content-center">
              <div class="d-flex flex-column flex-lg-row align-items-center justify-content-center mb-3">
                <img id="avatar" class="d-inline-block rounded mt-2 mb-2" width="200" :src="currentPic">
                <div class="d-inline-block ms-4 mt-2 mb-2">
                  <h2>ÂòâÁÑ∂‰ªäÂ§©ÂêÉ‰ªÄ‰πàÔºü</h2>
                  <br>
                  <h4 style="color:#E799B0">{{currentName}}</h4>
                  <br>
                  <small>{{currentTooltipText}}</small>
                </div>
                
              </div>

              <button id="start" @click="start();" class="btn text-nowrap" type="button">ÂêÉ‰ªÄ‰πàÊçèÔºü</button>
              <button id="stop" @click="stop" class="btn btn-danger text-nowrap" type="button" style="display: none;">ÂÅúÊ≠¢</button>
            </div>
          </div>
        </div>
      </div>
    </div>
</body>

<script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/vue/2.6.14/vue.min.js"></script>
<script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/axios/0.26.0/axios.min.js"></script>
<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-2-M/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">
var app = new Vue({
  el:'#app',
  data() {
    return {
      menu: [],
      currentPic: "https://s2.loli.net/2022/03/22/Qv5FgzLH1yuhpNt.gif",
      currentName: "",
      currentTooltipText: "",
      isSpicy: false,
      bsDelay: 0
    }
  },
  created() {
    axios
    .get('./menu.json')
    .then(res=>{
      this.menu = res.data.menu;
    })
  },
  mounted() {
  },
  methods: {
    start(){
      document.getElementById('stop').style.display = "block";
      document.getElementById('start').style.display = "none";     
      timer = setInterval(function () {
        var r = Math.ceil(Math.random() * app.menu.length),
        food = app.menu[r - 1];
        app.currentName = food.name;
        if(food.easteregg.text){
          app.currentTooltipText = 'üí≠ ' + food.easteregg.text;
        }else{
          app.currentTooltipText = '...';
        }
        
        if(food.easteregg.img) {
          app.currentPic = food.easteregg.img;
        }else{
          app.currentPic = "https://s2.loli.net/2022/03/22/WtgLCp9aBURHZGv.gif";
        }

        // if(food.spicy){
        //   var rTop = Math.ceil(Math.random() * $(document).height()),
        //     rLeft = Math.ceil(Math.random() * ($(document).width() - 50)),
        //     rSize = Math.ceil(Math.random() * (37 - 14) + 14);
        // $("<span class='temp'></span>").html('ü•µ').hide().css({
        //     "top": rTop,
        //     "left": rLeft,
        //     "color": "rgba(0,0,0,." + Math.random() + ")",
        //     "fontSize": rSize + "px"
        // }).appendTo("app").fadeIn("slow", function () {
        //     $(this).fadeOut("slow", function () {
        //         $(this).remove();
        //     });
        // });
        // }
        
      }, 100);
    },
    stop(){      
      clearInterval(timer);
      document.getElementById('start').style.display = "block";
      document.getElementById('start').innerHTML = "‰∏çË¶ÅÔºåÊç¢‰∏Ä‰∏™";
      document.getElementById('stop').style.display = "none";
    }
  }
})
</script>
</html>
